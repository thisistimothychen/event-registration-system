<%= form_for(event) do |f| %>
  <% if event.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(event.errors.count, "error") %> prohibited this event from being saved:</h2>

      <ul>
      <% event.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
      <div class="col-lg-2">
          <div class="form-group">
            <%= f.label :name %>
            <%= f.text_field :name, class:"form-control" %>
          </div>

          <div class="form-group">
            <%= f.label :location %>
            <%= f.text_field :location, class:"form-control" %>
          </div>

          <div class="form-group">
            <%= f.label :start_datetime %>
            <%= f.datetime_select :start_datetime, class:"datetimepicker" %>
          </div>

          <div class="form-group">
            <%= f.label :end_datetime %>
            <%= f.datetime_select :end_datetime, class:"datetimepicker" %>
          </div>

          <div class="form-group">
            <%= f.label :description %>
            <%= f.text_area :description, class:"form-control" %>
          </div>

          <div class="form-group">
            <%= f.label :registration_limit %>
            <%= f.number_field :registration_limit, class:"form-control" %>
          </div>

          <div class="actions">
            <%= f.submit :class => "btn btn-default" %>
          </div>
      </div>
  </div>
<% end %>

<script>
  //$('.datetimepicker').datetimepicker();
  $('#event_start_datetime').datetimepicker();
  $('#event_end_datetime').datetimepicker({
      useCurrent: false //Important! See issue #1075
  });
  $("#event_start_datetime").on("dp.change", function (e) {
      $('#event_end_datetime').data("DateTimePicker").minDate(e.date);
  });
  $("#event_end_datetime").on("dp.change", function (e) {
      $('#event_start_datetime').data("DateTimePicker").maxDate(e.date);
  });
</script>
